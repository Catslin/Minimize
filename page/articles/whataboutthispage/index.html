<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../../public/image/webtitle.png" type="image/x-icon" sizes="32x32" />
    <title>HOW to implement</title>
    <link rel="stylesheet" href="../../../public/css/articles.css">
</head>
<body>
    <div class="container">
        <div class="title">
            <h3>
              <a href="https://catslinsama.github.io/">
                What is the implementation principle of this website?
              </a>
            </h3>
        </div>
        <hr>
        <div class="context">
          <pre>
            loadContent = (fileName, event) => {
              fileName = fileName ? fileName : "./page/index.html";
              var xhttp = new XMLHttpRequest();
              xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                  document.querySelector(".show").innerHTML = this.responseText;
                }
              };
              event.preventDefault();
              xhttp.open("GET", fileName, true);
              xhttp.send();
            
              // 存储当前加载的页面文件名
              localStorage.setItem("currentPage", fileName);
            };
            
            window.addEventListener('DOMContentLoaded', function (event) {
              // 检查localStorage中是否有存储的页面文件名
              var currentPage = localStorage.getItem("currentPage");
            
              if (currentPage) {
                loadContent(currentPage, event);
              } else {
                // 当存储了文件名的时候加载文件内容，没有存储文件名则加载默认页
                loadContent('./page/index.html', event);
              }
            });
          </pre>
          <hr>
          <pre>
            function showCompleted() {
              var toOverItems = document.querySelectorAll('.toover');
              toOverItems.forEach(function (item) {
                if (item.style.display === 'none' || item.style.display === '') {
                  item.style.display = 'inline'; // 显示已完成的事项
                } else {
                  item.style.display = 'none'; // 隐藏已完成的事项
                }
              });
            }
          </pre>
        </div>
    </div>
</body>
</html>